<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Functions Tutorial | Developers Hub</title>
    <link rel="icon" href="../../logos/devhub_favicon_2.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* CSS Reset & Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary-color: #0d9488;
            --secondary-color: #0ea5e9;
            --accent-color: #10b981;
            --light-color: #f0f9ff;
            --dark-color: #0f172a;
            --text-color: #334155;
            --text-light: #f8f9fa;
            --success-color: #2a9d8f;
            --info-color: #57c5b6;
            --warning-color: #e9c46a;
            --danger-color: #e76f51;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --border-radius: 8px;
            --transition: all 0.3s ease;
            --code-bg: #1e293b;
            --function-bg: #0d2b3e;
        }

        body {
            background-color: #f8fafc;
            color: var(--text-color);
            line-height: 1.6;
        }

        .container {
            width: 100%;
            /* max-width: 1200px; */
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Styles */
        .page-header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: var(--text-light);
            padding: 2.5rem 0;
            text-align: center;
            /* border-bottom-left-radius: 30px;
            border-bottom-right-radius: 30px; */
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .page-header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%);
            background-size: 300% 300%;
            animation: shine 8s infinite;
        }

        @keyframes shine {
            0% { background-position: -100% -100%; }
            100% { background-position: 200% 200%; }
        }

        .page-header h1 {
            font-size: 2.8rem;
            margin-bottom: 0.5rem;
            font-weight: 800;
            position: relative;
        }

        .page-header p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
            opacity: 0.9;
            position: relative;
        }

        .header-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            display: inline-block;
            position: relative;
        }

        /* inserted */
        .header-stats {
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
            margin-top: 2rem;
        }
        
        .stat-item {
            background: rgba(255, 255, 255, 0.15);
            padding: 0.8rem 1.5rem;
            border-radius: 50px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            gap: 0.7rem;
            font-weight: 600;
        }
        /* inserted */

        /* Content Section Styles */
        .section {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .section:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .section-title {
            color: var(--primary-color);
            font-size: 1.8rem;
            margin-bottom: 1.2rem;
            padding-bottom: 0.5rem;
            border-bottom: 3px solid var(--accent-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title i {
            color: var(--secondary-color);
        }

        .content-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-top: 1.5rem;
        }

        /* Code Example Styles */
        .code-example {
            background-color: var(--code-bg);
            color: #d6deeb;
            border-radius: var(--border-radius);
            padding: 1.5rem;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 0.95rem;
            line-height: 1.5;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.5);
            position: relative;
        }

        .code-example h4 {
            color: var(--accent-color);
            margin-bottom: 0.8rem;
            font-size: 1.1rem;
        }

        .code-example pre {
            white-space: pre-wrap;
            overflow-x: auto;
        }

        .js-keyword {
            color: #ff7b72;
            font-weight: bold;
        }

        .js-string {
            color: #a5d6ff;
        }

        .js-number {
            color: #79c0ff;
        }

        .js-function {
            color: #d2a8ff;
        }

        .js-comment {
            color: #8b949e;
            font-style: italic;
        }

        .js-operator {
            color: #ffa657;
        }

        .js-variable {
            color: #7ee787;
        }

        .js-param {
            color: #79c0ff;
        }

        .js-return {
            color: #ffa657;
        }

        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: var(--transition);
        }

        .copy-btn:hover {
            background-color: var(--secondary-color);
        }

        /* Interactive Function Visualizer */
        .function-visualizer {
            background-color: var(--function-bg);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .visualizer-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .visualizer-title {
            color: var(--accent-color);
            font-weight: bold;
        }

        .visualizer-controls {
            display: flex;
            gap: 10px;
        }

        .visualizer-btn {
            padding: 5px 10px;
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: var(--transition);
        }

        .visualizer-btn:hover {
            background-color: var(--secondary-color);
        }

        .visualizer-container {
            flex-grow: 1;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 5px;
            padding: 1rem;
            font-family: 'Consolas', monospace;
            font-size: 0.9rem;
            overflow-y: auto;
            margin-bottom: 1rem;
        }

        .function-display {
            color: #d6deeb;
            white-space: pre-wrap;
            line-height: 1.4;
        }

        .visualizer-input-area {
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 10px;
        }

        .visualizer-input {
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 10px;
            border-radius: 5px;
            font-family: 'Consolas', monospace;
            font-size: 0.9rem;
        }

        .visualizer-input:focus {
            outline: none;
            border-color: var(--accent-color);
        }

        .visualizer-run-btn {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 0 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: var(--transition);
        }

        .visualizer-run-btn:hover {
            background-color: var(--primary-color);
        }

        /* Function Type Cards */
        .function-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .function-card {
            background-color: #e8f4fc;
            border-left: 4px solid var(--secondary-color);
            padding: 1.2rem;
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .function-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .function-card h4 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .function-icon {
            font-size: 1.2rem;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .function-syntax {
            font-family: 'Consolas', monospace;
            font-size: 0.85rem;
            color: #555;
            background-color: #f5f5f5;
            padding: 5px 8px;
            border-radius: 3px;
            display: block;
            margin: 8px 0;
        }

        /* Execution Flow Visualizer */
        .execution-visualizer {
            background: linear-gradient(90deg, #e3f2fd 0%, #f0f9ff 100%);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .execution-container {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 1rem;
            margin-top: 1rem;
        }

        .execution-step {
            flex: 1;
            min-width: 150px;
            background-color: white;
            padding: 1rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            text-align: center;
            position: relative;
        }

        .execution-step::after {
            content: "â†’";
            position: absolute;
            right: -15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--primary-color);
            font-weight: bold;
        }

        .execution-step:last-child::after {
            display: none;
        }

        .step-number {
            display: inline-block;
            width: 30px;
            height: 30px;
            background-color: var(--primary-color);
            color: white;
            border-radius: 50%;
            line-height: 30px;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }

        .step-title {
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 0.3rem;
        }

        /* Scope Chain Visualizer */
        .scope-visualizer {
            background-color: var(--dark-color);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin: 1.5rem 0;
            color: white;
        }

        .scope-levels {
            display: flex;
            justify-content: space-between;
            margin-top: 1rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .scope-level {
            flex: 1;
            min-width: 200px;
            background-color: rgba(255, 255, 255, 0.1);
            padding: 1rem;
            border-radius: var(--border-radius);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .scope-title {
            color: var(--accent-color);
            font-weight: bold;
            margin-bottom: 0.5rem;
            padding-bottom: 0.3rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .scope-variables {
            font-family: 'Consolas', monospace;
            font-size: 0.85rem;
            margin-top: 0.5rem;
        }

        /* Comparison Table */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            background-color: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .comparison-table th {
            background-color: var(--primary-color);
            color: white;
            padding: 1rem;
            text-align: left;
        }

        .comparison-table td {
            padding: 0.8rem 1rem;
            border-bottom: 1px solid #eee;
        }

        .comparison-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        .comparison-table tr:hover {
            background-color: #f0f9ff;
        }

        .function-tag {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-right: 5px;
        }

        .tag-declaration {
            background-color: #d4edda;
            color: #155724;
        }

        .tag-expression {
            background-color: #d1ecf1;
            color: #0c5460;
        }

        .tag-arrow {
            background-color: #fff3cd;
            color: #856404;
        }

        /* Tips & Notes */
        .tip-box {
            background-color: #e7f5ef;
            border-left: 4px solid var(--success-color);
            padding: 1.2rem;
            margin: 1.5rem 0;
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
        }

        .tip-box h4 {
            color: var(--success-color);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .note-box {
            background-color: #fff9e6;
            border-left: 4px solid var(--warning-color);
            padding: 1.2rem;
            margin: 1.5rem 0;
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
        }

        .note-box h4 {
            color: #b0893b;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .warning-box {
            background-color: #f8d7da;
            border-left: 4px solid var(--danger-color);
            padding: 1.2rem;
            margin: 1.5rem 0;
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
        }

        .warning-box h4 {
            color: var(--danger-color);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Call Stack Visual */
        .callstack-visual {
            background-color: var(--dark-color);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin: 1.5rem 0;
            color: white;
        }

        .stack-container {
            display: flex;
            flex-direction: column-reverse;
            align-items: center;
            gap: 5px;
            margin-top: 1rem;
        }

        .stack-frame {
            background-color: rgba(255, 255, 255, 0.1);
            width: 80%;
            padding: 0.8rem;
            border-radius: 5px;
            border-left: 4px solid var(--accent-color);
            font-family: 'Consolas', monospace;
            font-size: 0.9rem;
        }

        .stack-frame.active {
            background-color: rgba(86, 197, 182, 0.2);
            border-left-color: var(--secondary-color);
        }

        /* Footer */
         /* inserted */
        .footer {
            text-align: center;
            padding: 30px;
            color: #64748b;
            font-size: 0.95rem;
            border-top: 1px solid #e2e8f0;
            margin-top: 40px;
            background-color: #f8fafc;
        }

        .footer strong {
            color: var(--primary-color);
        }

        .quick-links {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }

        .quick-link {
            background-color: white;
            border: 1px solid #e2e8f0;
            padding: 10px 20px;
            border-radius: 50px;
            color: #0d9488;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.05);
        }

        .quick-link:hover {
            background-color: #0d9488;
            color: white;
            transform: translateY(-3px);
        }
        /* inserted */

        /* Responsive Adjustments */
        @media (max-width: 992px) {
            .content-grid {
                grid-template-columns: 1fr;
            }
            
            .page-header h1 {
                font-size: 2.2rem;
            }
            
            .function-visualizer {
                min-height: 250px;
            }
            
            .execution-container {
                flex-direction: column;
            }
            
            .execution-step::after {
                right: 50%;
                top: auto;
                bottom: -15px;
                transform: translateX(50%) rotate(90deg);
            }

            /* inserted */
            .quick-links {
                flex-direction: column;
                align-items: center;
            }
            
            .quick-link {
                width: 80%;
                text-align: center;
            }
            /* inserted */
        }

        @media (max-width: 768px) {
            .section {
                padding: 1.5rem;
            }
            
            .function-cards {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .visualizer-input-area {
                grid-template-columns: 1fr;
            }
            
            .comparison-table {
                font-size: 0.9rem;
            }
            
            .scope-levels {
                flex-direction: column;
            }
        }

        @media (max-width: 576px) {
            .page-header {
                padding: 1.8rem 0;
            }
            
            .page-header h1 {
                font-size: 1.8rem;
            }
            
            .section-title {
                font-size: 1.5rem;
            }
            
            .header-icon {
                font-size: 2.5rem;
            }
            
            .function-cards {
                grid-template-columns: 1fr;
            }
        }

        /* Utility Classes */
        .highlight {
            background-color: #fffacd;
            padding: 2px 5px;
            border-radius: 3px;
            font-weight: 600;
        }

        .tag {
            background-color: var(--primary-color);
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-right: 5px;
        }

        .btn {
            display: inline-block;
            background-color: var(--secondary-color);
            color: white;
            padding: 0.7rem 1.5rem;
            border-radius: var(--border-radius);
            text-decoration: none;
            font-weight: 600;
            transition: var(--transition);
            border: none;
            cursor: pointer;
            margin-top: 0.5rem;
        }

        .btn:hover {
            background-color: var(--primary-color);
            transform: translateY(-3px);
        }

        /* Function Indicator */
        .function-indicator {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--primary-color);
            color: white;
            padding: 10px 15px;
            border-radius: var(--border-radius);
            font-size: 0.9rem;
            font-weight: bold;
            z-index: 100;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .indicator-dot {
            width: 10px;
            height: 10px;
            background-color: #7ee787;
            border-radius: 50%;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
    </style>
    <style>
        /* Header Styles */
        :root {
            --primary: #00d4aa;
            --primary-dark: #00b894;
            --secondary: #00ceff;
            --accent: #00ffcc;
            --dark-bg: #0a1929;
            --dark-card: #112240;
            --dark-sidebar: #0d1b2a;
            --dark-header: #0f172a;
            --dark-text: #a8b2d1;
            --light-text: #e6f1ff;
            --border-color: #1e3a5f;
            --success: #00ff88;
            --warning: #ffaa00;
            --danger: #ff4444;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            --sidebar-width: 260px;
            --header-height: 70px;
        }

        .header-top {
            width: 100%;
            height: var(--header-height);
            background-color: var(--dark-header);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 30px;
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .menu-toggle {
            display: none;
            background: none;
            border: none;
            color: var(--light-text);
            font-size: 1.5rem;
            cursor: pointer;
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            /* background: linear-gradient(135deg, var(--primary), var(--secondary)); */
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
            color: var(--dark-header);
        }

        /* //inserted */
        .user-avatar img{
            width: 45px;
            height: 45px;
            border-radius: 50%;
        }

        .user-info {
            display: flex;
            flex-direction: column;
        }

        .user-name {
            font-weight: 600;
            color: var(--light-text);
        }

        .user-role {
            font-size: 0.85rem;
            opacity: 0.8;
        }

        .logout-btn {
            background: none;
            border: 1px solid var(--primary);
            color: var(--primary);
            padding: 8px 20px;
            border-radius: 6px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .logout-btn:hover {
            background-color: rgba(0, 212, 170, 0.1);
        }
    </style>
    <style>
        .sidebar {
            width: var(--sidebar-width);
            background-color: var(--dark-sidebar);
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            transition: var(--transition);
            z-index: 1000;
            border-right: 1px solid var(--border-color);
        }

        .sidebar-header {
            padding: 25px 20px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .sidebar-header i {
            color: var(--primary);
            font-size: 1.8rem;
        }

        .sidebar-header h1 {
            font-size: 1.5rem;
            color: var(--light-text);
            font-weight: 700;
        }

        .sidebar-header span {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .sidebar-menu {
            padding: 20px 0;
        }

        .menu-item {
            padding: 15px 20px;
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: var(--transition);
            border-left: 4px solid transparent;
            color: var(--dark-text);
            text-decoration: none;
        }

        .menu-item:hover {
            background-color: rgba(0, 212, 170, 0.1);
            color: var(--light-text);
        }

        .menu-item.active {
            background-color: rgba(0, 212, 170, 0.15);
            border-left-color: var(--primary);
            color: var(--light-text);
        }

        .menu-item i {
            margin-right: 12px;
            width: 20px;
            text-align: center;
            font-size: 1.2rem;
        }

        .menu-item span {
            font-weight: 500;
        }

        .submenu {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease;
            background-color: rgba(0, 0, 0, 0.2);
        }

        .submenu.active {
            max-height: 500px;
        }

        .submenu-item {
            padding: 12px 20px 12px 50px;
            cursor: pointer;
            transition: var(--transition);
            color: var(--dark-text);
        }

        .submenu-item:hover {
            background-color: rgba(0, 212, 170, 0.08);
            color: var(--light-text);
        }

        .submenu-item.active {
            color: var(--primary);
            background-color: rgba(0, 212, 170, 0.12);
        }

        .chevron {
            margin-left: auto;
            transition: var(--transition);
        }

        .chevron.rotate {
            transform: rotate(180deg);
        }
    </style>
</head>
<body>

    <!-- inserted -->
    <header class="header-top">
        <button class="menu-toggle" id="menuToggle">
            <i class="fas fa-bars"></i>
        </button>
                
        <div class="user-profile">
            <div class="user-avatar"><a href="../../index.html"><img src="../../logos/devhub_user_logo.jpg" alt="user-logo"></a></div>
                <div class="user-info">
                    <div class="user-name">Developer</div>
                <div class="user-role">Admin User</div>
            </div>
        </div>
                
        <button class="logout-btn">
                <i class="fas fa-sign-out-alt"></i>
            <span>Logout</span>
        </button>
    </header>
    <!-- /inserted -->

    <!-- Function Indicator -->
    <div class="function-indicator">
        <div class="indicator-dot"></div>
        <span>JavaScript Functions</span>
    </div>

    <header class="container page-header">
        <div class="header-content">
            <div class="header-icon">
                <i class="fas fa-code-branch"></i>
            </div>
            <h1>JavaScript Functions Tutorial</h1>
            <p>Master JavaScript functions - from basic declarations to advanced concepts like closures, recursion, and higher-order functions.</p>
        
            <div class="header-stats">
                    <div class="stat-item">
                        <i class="fas fa-clock"></i>
                        <span>30 min read</span>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-code"></i>
                        <span>15+ Examples</span>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-check-circle"></i>
                        <span>Best Practices</span>
                    </div>
            </div>
        </div>
    </header>

    <main class="container">
        <!-- Introduction Section -->
        <section class="section">
            <h2 class="section-title"><i class="fas fa-info-circle"></i> What are Functions in JavaScript?</h2>
            <p>Functions are reusable blocks of code that perform a specific task. They are fundamental building blocks in JavaScript, allowing you to organize code, avoid repetition, and create modular programs.</p>
            
            <div class="content-grid">
                <div>
                    <h3>Why Use Functions?</h3>
                    <ul style="margin-left: 1.5rem; margin-top: 1rem;">
                        <li><strong>Reusability:</strong> Write once, use multiple times</li>
                        <li><strong>Modularity:</strong> Break complex problems into smaller pieces</li>
                        <li><strong>Abstraction:</strong> Hide implementation details</li>
                        <li><strong>Maintainability:</strong> Easier to debug and update</li>
                        <li><strong>Namespacing:</strong> Avoid variable name collisions</li>
                    </ul>
                    
                    <div class="execution-visualizer">
                        <h4>Function Execution Flow</h4>
                        <div class="execution-container">
                            <div class="execution-step">
                                <div class="step-number">1</div>
                                <div class="step-title">Define</div>
                                <div>Create the function</div>
                            </div>
                            <div class="execution-step">
                                <div class="step-number">2</div>
                                <div class="step-title">Call</div>
                                <div>Invoke the function</div>
                            </div>
                            <div class="execution-step">
                                <div class="step-number">3</div>
                                <div class="step-title">Execute</div>
                                <div>Run function code</div>
                            </div>
                            <div class="execution-step">
                                <div class="step-number">4</div>
                                <div class="step-title">Return</div>
                                <div>Send back result</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="function-visualizer">
                    <div class="visualizer-header">
                        <div class="visualizer-title">Function Playground</div>
                        <div class="visualizer-controls">
                            <button class="visualizer-btn" id="clearFunction"><i class="fas fa-trash"></i> Clear</button>
                            <button class="visualizer-btn" id="addExample"><i class="fas fa-plus"></i> Example</button>
                        </div>
                    </div>
                    <div class="visualizer-container" id="functionContainer">
                        <div class="function-display" id="functionDisplay">
<span class="js-comment">// Define a function</span>
<span class="js-keyword">function</span> <span class="js-function">greet</span>(<span class="js-param">name</span>) {
  <span class="js-keyword">return</span> <span class="js-string">`Hello, <span class="js-number">${name}</span>!`</span>;
}

<span class="js-comment">// Call the function</span>
<span class="js-keyword">const</span> <span class="js-variable">message</span> = <span class="js-function">greet</span>(<span class="js-string">"Alice"</span>);
<span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-variable">message</span>); <span class="js-comment">// "Hello, Alice!"</span>
                        </div>
                    </div>
                    <div class="visualizer-input-area">
                        <input type="text" class="visualizer-input" id="functionInput" placeholder="Try: greet('Bob') or calculateArea(5, 10)" value='greet("Developer")'>
                        <button class="visualizer-run-btn" id="runFunction"><i class="fas fa-play"></i> Execute</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Function Types -->
        <section class="section">
            <h2 class="section-title"><i class="fas fa-cogs"></i> Function Types & Declarations</h2>
            <p>JavaScript offers several ways to define functions, each with different characteristics regarding hoisting, syntax, and use cases.</p>
            
            <div class="function-cards" id="functionCards">
                <!-- Function cards will be populated by JavaScript -->
            </div>
            
            <div class="content-grid" style="margin-top: 2rem;">
                <div>
                    <h3>Comparison of Function Types</h3>
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>Type</th>
                                <th>Hoisting</th>
                                <th>this Binding</th>
                                <th>Can be Named</th>
                                <th>Best For</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="function-tag tag-declaration">Function Declaration</span></td>
                                <td>Yes (fully hoisted)</td>
                                <td>Dynamic</td>
                                <td>Yes</td>
                                <td>General use, reusable functions</td>
                            </tr>
                            <tr>
                                <td><span class="function-tag tag-expression">Function Expression</span></td>
                                <td>No (variable hoisted)</td>
                                <td>Dynamic</td>
                                <td>Optional</td>
                                <td>Conditional functions, callbacks</td>
                            </tr>
                            <tr>
                                <td><span class="function-tag tag-arrow">Arrow Function</span></td>
                                <td>No</td>
                                <td>Lexical (no own this)</td>
                                <td>No (anonymous)</td>
                                <td>Short functions, callbacks</td>
                            </tr>
                            <tr>
                                <td>Method</td>
                                <td>No</td>
                                <td>Object context</td>
                                <td>Yes</td>
                                <td>Object properties</td>
                            </tr>
                            <tr>
                                <td>Constructor</td>
                                <td>Yes</td>
                                <td>New instance</td>
                                <td>Yes</td>
                                <td>Creating objects</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div>
                    <h3>Detailed Examples</h3>
                    <div class="code-example">
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                        <pre><code><span class="js-comment">// 1. FUNCTION DECLARATION (hoisted)</span>
<span class="js-function">sayHello</span>(<span class="js-string">"World"</span>); <span class="js-comment">// Works! Function is hoisted</span>

<span class="js-keyword">function</span> <span class="js-function">sayHello</span>(<span class="js-param">name</span>) {
  <span class="js-keyword">return</span> <span class="js-string">"Hello, "</span> + <span class="js-variable">name</span>;
}

<span class="js-comment">// 2. FUNCTION EXPRESSION (not hoisted)</span>
<span class="js-comment">// sayGoodbye("World"); // Error! Not hoisted</span>

<span class="js-keyword">const</span> <span class="js-variable">sayGoodbye</span> = <span class="js-keyword">function</span>(<span class="js-param">name</span>) {
  <span class="js-keyword">return</span> <span class="js-string">"Goodbye, "</span> + <span class="js-variable">name</span>;
};

<span class="js-keyword">const</span> <span class="js-variable">factorial</span> = <span class="js-keyword">function</span> <span class="js-function">fact</span>(<span class="js-param">n</span>) { <span class="js-comment">// Named function expression</span>
  <span class="js-keyword">if</span> (<span class="js-variable">n</span> <= <span class="js-number">1</span>) <span class="js-keyword">return</span> <span class="js-number">1</span>;
  <span class="js-keyword">return</span> <span class="js-variable">n</span> * <span class="js-function">fact</span>(<span class="js-variable">n</span> - <span class="js-number">1</span>);
};

<span class="js-comment">// 3. ARROW FUNCTION (ES6+)</span>
<span class="js-keyword">const</span> <span class="js-variable">add</span> = (<span class="js-param">a</span>, <span class="js-param">b</span>) => <span class="js-variable">a</span> + <span class="js-variable">b</span>;
<span class="js-keyword">const</span> <span class="js-variable">square</span> = <span class="js-param">x</span> => <span class="js-variable">x</span> * <span class="js-variable">x</span>;
<span class="js-keyword">const</span> <span class="js-variable">getUser</span> = <span class="js-param">id</span> => ({ <span class="js-variable">id</span>: <span class="js-variable">id</span>, <span class="js-variable">name</span>: <span class="js-string">"Anonymous"</span> });

<span class="js-comment">// 4. METHOD (function as object property)</span>
<span class="js-keyword">const</span> <span class="js-variable">calculator</span> = {
  <span class="js-variable">add</span>: <span class="js-keyword">function</span>(<span class="js-param">a</span>, <span class="js-param">b</span>) {
    <span class="js-keyword">return</span> <span class="js-variable">a</span> + <span class="js-variable">b</span>;
  },
  <span class="js-variable">multiply</span>(<span class="js-param">a</span>, <span class="js-param">b</span>) { <span class="js-comment">// Method shorthand (ES6)</span>
    <span class="js-keyword">return</span> <span class="js-variable">a</span> * <span class="js-variable">b</span>;
  }
};

<span class="js-comment">// 5. CONSTRUCTOR FUNCTION</span>
<span class="js-keyword">function</span> <span class="js-function">Person</span>(<span class="js-param">name</span>, <span class="js-param">age</span>) {
  <span class="js-keyword">this</span>.<span class="js-variable">name</span> = <span class="js-variable">name</span>;
  <span class="js-keyword">this</span>.<span class="js-variable">age</span> = <span class="js-variable">age</span>;
}

<span class="js-keyword">const</span> <span class="js-variable">person1</span> = <span class="js-keyword">new</span> <span class="js-function">Person</span>(<span class="js-string">"Alice"</span>, <span class="js-number">25</span>);</code></pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- Parameters & Arguments -->
        <section class="section">
            <h2 class="section-title"><i class="fas fa-sliders-h"></i> Parameters & Arguments</h2>
            <p>Parameters are variables listed in the function definition, while arguments are the actual values passed to the function when it's called.</p>
            
            <div class="content-grid">
                <div>
                    <h3>Different Parameter Types</h3>
                    <div class="code-example">
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                        <pre><code><span class="js-comment">// 1. Default Parameters (ES6+)</span>
<span class="js-keyword">function</span> <span class="js-function">greet</span>(<span class="js-param">name</span> = <span class="js-string">"Guest"</span>, <span class="js-param">greeting</span> = <span class="js-string">"Hello"</span>) {
  <span class="js-keyword">return</span> <span class="js-string">`<span class="js-number">${greeting}</span>, <span class="js-number">${name}</span>!`</span>;
}

<span class="js-function">greet</span>(); <span class="js-comment">// "Hello, Guest!"</span>
<span class="js-function">greet</span>(<span class="js-string">"Alice"</span>); <span class="js-comment">// "Hello, Alice!"</span>
<span class="js-function">greet</span>(<span class="js-string">"Bob"</span>, <span class="js-string">"Hi"</span>); <span class="js-comment">// "Hi, Bob!"</span>

<span class="js-comment">// 2. Rest Parameters (...)</span>
<span class="js-keyword">function</span> <span class="js-function">sum</span>(...<span class="js-param">numbers</span>) {
  <span class="js-keyword">return</span> <span class="js-variable">numbers</span>.<span class="js-function">reduce</span>((<span class="js-variable">total</span>, <span class="js-variable">num</span>) => <span class="js-variable">total</span> + <span class="js-variable">num</span>, <span class="js-number">0</span>);
}

<span class="js-function">sum</span>(<span class="js-number">1</span>, <span class="js-number">2</span>, <span class="js-number">3</span>); <span class="js-comment">// 6</span>
<span class="js-function">sum</span>(<span class="js-number">10</span>, <span class="js-number">20</span>, <span class="js-number">30</span>, <span class="js-number">40</span>); <span class="js-comment">// 100</span>

<span class="js-comment">// 3. Destructuring Parameters</span>
<span class="js-keyword">function</span> <span class="js-function">printUser</span>({ <span class="js-variable">name</span>, <span class="js-variable">age</span>, <span class="js-variable">email</span> = <span class="js-string">"N/A"</span> }) {
  <span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-string">`Name: <span class="js-number">${name}</span>, Age: <span class="js-number">${age}</span>, Email: <span class="js-number">${email}</span>`</span>);
}

<span class="js-keyword">const</span> <span class="js-variable">user</span> = { <span class="js-variable">name</span>: <span class="js-string">"Alice"</span>, <span class="js-variable">age</span>: <span class="js-number">25</span> };
<span class="js-function">printUser</span>(<span class="js-variable">user</span>); <span class="js-comment">// "Name: Alice, Age: 25, Email: N/A"</span>

<span class="js-comment">// Array destructuring parameters</span>
<span class="js-keyword">function</span> <span class="js-function">getFirstAndLast</span>([<span class="js-variable">first</span>, ...<span class="js-variable">rest</span>]) {
  <span class="js-keyword">return</span> [<span class="js-variable">first</span>, <span class="js-variable">rest</span>[<span class="js-variable">rest</span>.<span class="js-variable">length</span> - <span class="js-number">1</span>]];
}

<span class="js-function">getFirstAndLast</span>([<span class="js-number">1</span>, <span class="js-number">2</span>, <span class="js-number">3</span>, <span class="js-number">4</span>]); <span class="js-comment">// [1, 4]</span>

<span class="js-comment">// 4. arguments object (older approach)</span>
<span class="js-keyword">function</span> <span class="js-function">oldSum</span>() {
  <span class="js-keyword">let</span> <span class="js-variable">total</span> = <span class="js-number">0</span>;
  <span class="js-keyword">for</span> (<span class="js-keyword">let</span> <span class="js-variable">i</span> = <span class="js-number">0</span>; <span class="js-variable">i</span> < <span class="js-variable">arguments</span>.<span class="js-variable">length</span>; <span class="js-variable">i</span><span class="js-operator">++</span>) {
    <span class="js-variable">total</span> <span class="js-operator">+=</span> <span class="js-variable">arguments</span>[<span class="js-variable">i</span>];
  }
  <span class="js-keyword">return</span> <span class="js-variable">total</span>;
}

<span class="js-function">oldSum</span>(<span class="js-number">1</span>, <span class="js-number">2</span>, <span class="js-number">3</span>); <span class="js-comment">// 6</span></code></pre>
                    </div>
                </div>
                
                <div>
                    <h3>Parameter vs Argument</h3>
                    <div class="execution-visualizer">
                        <div class="execution-container">
                            <div class="execution-step">
                                <div class="step-number">1</div>
                                <div class="step-title">Definition</div>
                                <div>Parameters are placeholders in function definition</div>
                            </div>
                            <div class="execution-step">
                                <div class="step-number">2</div>
                                <div class="step-title">Call</div>
                                <div>Arguments are actual values passed during call</div>
                            </div>
                            <div class="execution-step">
                                <div class="step-number">3</div>
                                <div class="step-title">Mapping</div>
                                <div>Arguments are assigned to parameters</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="code-example" style="margin-top: 1.5rem;">
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                        <pre><code><span class="js-comment">// PARAMETERS (in definition)</span>
<span class="js-keyword">function</span> <span class="js-function">multiply</span>(<span class="js-param">a</span>, <span class="js-param">b</span> = <span class="js-number">1</span>) { <span class="js-comment">// a and b are parameters</span>
  <span class="js-keyword">return</span> <span class="js-variable">a</span> * <span class="js-variable">b</span>;
}

<span class="js-comment">// ARGUMENTS (when calling)</span>
<span class="js-function">multiply</span>(<span class="js-number">5</span>, <span class="js-number">3</span>); <span class="js-comment">// 5 and 3 are arguments</span>
<span class="js-function">multiply</span>(<span class="js-number">7</span>);    <span class="js-comment">// 7 is argument, b uses default (1)</span>

<span class="js-comment">// Extra arguments are ignored (but accessible via arguments object)</span>
<span class="js-keyword">function</span> <span class="js-function">test</span>(<span class="js-param">x</span>, <span class="js-param">y</span>) {
  <span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-variable">x</span>, <span class="js-variable">y</span>);
  <span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-string">"Extra:"</span>, <span class="js-variable">arguments</span>[<span class="js-number">2</span>]);
}

<span class="js-function">test</span>(<span class="js-number">1</span>, <span class="js-number">2</span>, <span class="js-number">3</span>, <span class="js-number">4</span>); <span class="js-comment">// x=1, y=2, arguments[2]=3</span>

<span class="js-comment">// Missing arguments become undefined</span>
<span class="js-keyword">function</span> <span class="js-function">logValues</span>(<span class="js-param">a</span>, <span class="js-param">b</span>, <span class="js-param">c</span>) {
  <span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-variable">a</span>, <span class="js-variable">b</span>, <span class="js-variable">c</span>);
}

<span class="js-function">logValues</span>(<span class="js-number">1</span>); <span class="js-comment">// 1, undefined, undefined</span></code></pre>
                    </div>
                </div>
            </div>
            
            <div class="tip-box">
                <h4><i class="fas fa-lightbulb"></i> Best Practices for Parameters</h4>
                <ol style="margin-left: 1.5rem;">
                    <li>Use default parameters instead of checking for undefined</li>
                    <li>Use rest parameters (...) instead of arguments object</li>
                    <li>Limit parameters to 3-4 for better readability</li>
                    <li>Use object destructuring for multiple related parameters</li>
                    <li>Place optional parameters at the end</li>
                </ol>
            </div>
        </section>

        <!-- Return Values & Scope -->
        <section class="section">
            <h2 class="section-title"><i class="fas fa-undo"></i> Return Values & Scope</h2>
            <p>Functions can return values, and understanding scope is crucial for how functions access and modify variables.</p>
            
            <div class="content-grid">
                <div>
                    <h3>Return Statement</h3>
                    <div class="code-example">
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                        <pre><code><span class="js-comment">// Explicit return</span>
<span class="js-keyword">function</span> <span class="js-function">add</span>(<span class="js-param">a</span>, <span class="js-param">b</span>) {
  <span class="js-keyword">return</span> <span class="js-variable">a</span> + <span class="js-variable">b</span>; <span class="js-comment">// Returns the sum</span>
}

<span class="js-keyword">const</span> <span class="js-variable">result</span> = <span class="js-function">add</span>(<span class="js-number">5</span>, <span class="js-number">3</span>); <span class="js-comment">// result = 8</span>

<span class="js-comment">// Implicit return (arrow functions)</span>
<span class="js-keyword">const</span> <span class="js-variable">multiply</span> = (<span class="js-param">a</span>, <span class="js-param">b</span>) => <span class="js-variable">a</span> * <span class="js-variable">b</span>; <span class="js-comment">// Implicit return</span>

<span class="js-comment">// Multiple return statements</span>
<span class="js-keyword">function</span> <span class="js-function">getGrade</span>(<span class="js-param">score</span>) {
  <span class="js-keyword">if</span> (<span class="js-variable">score</span> >= <span class="js-number">90</span>) {
    <span class="js-keyword">return</span> <span class="js-string">"A"</span>;
  } <span class="js-keyword">else</span> <span class="js-keyword">if</span> (<span class="js-variable">score</span> >= <span class="js-number">80</span>) {
    <span class="js-keyword">return</span> <span class="js-string">"B"</span>;
  } <span class="js-keyword">else</span> <span class="js-keyword">if</span> (<span class="js-variable">score</span> >= <span class="js-number">70</span>) {
    <span class="js-keyword">return</span> <span class="js-string">"C"</span>;
  } <span class="js-keyword">else</span> {
    <span class="js-keyword">return</span> <span class="js-string">"F"</span>;
  }
}

<span class="js-comment">// Return stops execution</span>
<span class="js-keyword">function</span> <span class="js-function">example</span>() {
  <span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-string">"This will execute"</span>);
  <span class="js-keyword">return</span> <span class="js-string">"Done"</span>;
  <span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-string">"This will NOT execute"</span>); <span class="js-comment">// Unreachable!</span>
}

<span class="js-comment">// Returning objects (need parentheses for arrow functions)</span>
<span class="js-keyword">const</span> <span class="js-variable">createUser</span> = (<span class="js-param">name</span>, <span class="js-param">age</span>) => ({
  <span class="js-variable">name</span>: <span class="js-variable">name</span>,
  <span class="js-variable">age</span>: <span class="js-variable">age</span>,
  <span class="js-variable">isAdult</span>: <span class="js-variable">age</span> >= <span class="js-number">18</span>
});

<span class="js-comment">// Functions without return return undefined</span>
<span class="js-keyword">function</span> <span class="js-function">noReturn</span>() {
  <span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-string">"I don't return anything"</span>);
}

<span class="js-keyword">const</span> <span class="js-variable">value</span> = <span class="js-function">noReturn</span>(); <span class="js-comment">// value = undefined</span></code></pre>
                    </div>
                </div>
                
                <div>
                    <h3>Function Scope</h3>
                    <div class="scope-visualizer">
                        <h4>Scope Chain Visualization</h4>
                        <div class="scope-levels">
                            <div class="scope-level">
                                <div class="scope-title">Global Scope</div>
                                <div class="scope-variables">
                                    let globalVar = "I'm global";<br>
                                    const PI = 3.14159;
                                </div>
                            </div>
                            <div class="scope-level">
                                <div class="scope-title">Outer Function</div>
                                <div class="scope-variables">
                                    function outer() {<br>
                                    &nbsp;&nbsp;let outerVar = "I'm in outer";<br>
                                    &nbsp;&nbsp;// Can access: globalVar, PI, outerVar<br>
                                    }
                                </div>
                            </div>
                            <div class="scope-level">
                                <div class="scope-title">Inner Function</div>
                                <div class="scope-variables">
                                    function inner() {<br>
                                    &nbsp;&nbsp;let innerVar = "I'm in inner";<br>
                                    &nbsp;&nbsp;// Can access: globalVar, PI, outerVar, innerVar<br>
                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="code-example" style="margin-top: 1.5rem;">
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                        <pre><code><span class="js-keyword">const</span> <span class="js-variable">globalVar</span> = <span class="js-string">"I'm global"</span>;

<span class="js-keyword">function</span> <span class="js-function">outer</span>() {
  <span class="js-keyword">const</span> <span class="js-variable">outerVar</span> = <span class="js-string">"I'm in outer function"</span>;
  
  <span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-variable">globalVar</span>);  <span class="js-comment">// Can access global</span>
  <span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-variable">outerVar</span>);  <span class="js-comment">// Can access own</span>
  
  <span class="js-keyword">function</span> <span class="js-function">inner</span>() {
    <span class="js-keyword">const</span> <span class="js-variable">innerVar</span> = <span class="js-string">"I'm in inner function"</span>;
    
    <span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-variable">globalVar</span>);  <span class="js-comment">// Can access global</span>
    <span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-variable">outerVar</span>);  <span class="js-comment">// Can access outer's (closure!)</span>
    <span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-variable">innerVar</span>);  <span class="js-comment">// Can access own</span>
  }
  
  <span class="js-function">inner</span>();
  
  <span class="js-comment">// console.log(innerVar); // Error! Cannot access inner's variables</span>
}

<span class="js-function">outer</span>();

<span class="js-comment">// Block scope with let/const</span>
<span class="js-keyword">function</span> <span class="js-function">blockScopeExample</span>() {
  <span class="js-keyword">if</span> (<span class="js-keyword">true</span>) {
    <span class="js-keyword">let</span> <span class="js-variable">blockScoped</span> = <span class="js-string">"I'm block scoped"</span>;
    <span class="js-keyword">var</span> <span class="js-variable">functionScoped</span> = <span class="js-string">"I'm function scoped"</span>;
  }
  
  <span class="js-comment">// console.log(blockScoped); // Error! blockScoped not defined</span>
  <span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-variable">functionScoped</span>); <span class="js-comment">// Works! var is function scoped</span>
}</code></pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- Advanced Concepts -->
        <section class="section">
            <h2 class="section-title"><i class="fas fa-rocket"></i> Advanced Function Concepts</h2>
            <p>Master advanced concepts like closures, higher-order functions, recursion, and the call stack.</p>
            
            <div class="content-grid">
                <div>
                    <h3>Closures</h3>
                    <div class="code-example">
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                        <pre><code><span class="js-comment">// CLOSURE: Function + its lexical environment</span>
<span class="js-keyword">function</span> <span class="js-function">createCounter</span>() {
  <span class="js-keyword">let</span> <span class="js-variable">count</span> = <span class="js-number">0</span>; <span class="js-comment">// Private variable</span>
  
  <span class="js-keyword">return</span> <span class="js-keyword">function</span>() {
    <span class="js-variable">count</span><span class="js-operator">++</span>; <span class="js-comment">// Can access count even after createCounter returns</span>
    <span class="js-keyword">return</span> <span class="js-variable">count</span>;
  };
}

<span class="js-keyword">const</span> <span class="js-variable">counter</span> = <span class="js-function">createCounter</span>();
<span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-function">counter</span>()); <span class="js-comment">// 1</span>
<span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-function">counter</span>()); <span class="js-comment">// 2</span>
<span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-function">counter</span>()); <span class="js-comment">// 3</span>

<span class="js-comment">// Each closure has its own private state</span>
<span class="js-keyword">const</span> <span class="js-variable">counter1</span> = <span class="js-function">createCounter</span>();
<span class="js-keyword">const</span> <span class="js-variable">counter2</span> = <span class="js-function">createCounter</span>();
<span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-function">counter1</span>()); <span class="js-comment">// 1 (counter1's state)</span>
<span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-function">counter2</span>()); <span class="js-comment">// 1 (counter2's separate state)</span>

<span class="js-comment">// Practical closure example: Function factory</span>
<span class="js-keyword">function</span> <span class="js-function">createMultiplier</span>(<span class="js-param">multiplier</span>) {
  <span class="js-keyword">return</span> <span class="js-keyword">function</span>(<span class="js-param">num</span>) {
    <span class="js-keyword">return</span> <span class="js-variable">num</span> * <span class="js-variable">multiplier</span>;
  };
}

<span class="js-keyword">const</span> <span class="js-variable">double</span> = <span class="js-function">createMultiplier</span>(<span class="js-number">2</span>);
<span class="js-keyword">const</span> <span class="js-variable">triple</span> = <span class="js-function">createMultiplier</span>(<span class="js-number">3</span>);

<span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-function">double</span>(<span class="js-number">5</span>)); <span class="js-comment">// 10</span>
<span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-function">triple</span>(<span class="js-number">5</span>)); <span class="js-comment">// 15</span>

<span class="js-comment">// Closure with private data (module pattern)</span>
<span class="js-keyword">const</span> <span class="js-variable">bankAccount</span> = (<span class="js-keyword">function</span>() {
  <span class="js-keyword">let</span> <span class="js-variable">balance</span> = <span class="js-number">0</span>; <span class="js-comment">// Private variable</span>
  
  <span class="js-keyword">return</span> {
    <span class="js-variable">deposit</span>: <span class="js-keyword">function</span>(<span class="js-param">amount</span>) {
      <span class="js-variable">balance</span> <span class="js-operator">+=</span> <span class="js-variable">amount</span>;
      <span class="js-keyword">return</span> <span class="js-variable">balance</span>;
    },
    <span class="js-variable">withdraw</span>: <span class="js-keyword">function</span>(<span class="js-param">amount</span>) {
      <span class="js-keyword">if</span> (<span class="js-variable">amount</span> <= <span class="js-variable">balance</span>) {
        <span class="js-variable">balance</span> <span class="js-operator">-=</span> <span class="js-variable">amount</span>;
        <span class="js-keyword">return</span> <span class="js-variable">balance</span>;
      }
      <span class="js-keyword">return</span> <span class="js-string">"Insufficient funds"</span>;
    },
    <span class="js-variable">getBalance</span>: <span class="js-keyword">function</span>() {
      <span class="js-keyword">return</span> <span class="js-variable">balance</span>;
    }
  };
})();

<span class="js-variable">bankAccount</span>.<span class="js-function">deposit</span>(<span class="js-number">100</span>); <span class="js-comment">// 100</span>
<span class="js-variable">bankAccount</span>.<span class="js-function">withdraw</span>(<span class="js-number">30</span>);  <span class="js-comment">// 70</span>
<span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-variable">bankAccount</span>.<span class="js-function">getBalance</span>()); <span class="js-comment">// 70</span>
<span class="js-comment">// Cannot directly access balance - it's private!</span></code></pre>
                    </div>
                </div>
                
                <div>
                    <h3>Higher-Order Functions & Recursion</h3>
                    <div class="code-example">
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                        <pre><code><span class="js-comment">// HIGHER-ORDER FUNCTION: Takes functions as arguments or returns functions</span>
<span class="js-keyword">function</span> <span class="js-function">applyOperation</span>(<span class="js-param">a</span>, <span class="js-param">b</span>, <span class="js-param">operation</span>) {
  <span class="js-keyword">return</span> <span class="js-function">operation</span>(<span class="js-variable">a</span>, <span class="js-variable">b</span>);
}

<span class="js-keyword">const</span> <span class="js-variable">add</span> = (<span class="js-param">x</span>, <span class="js-param">y</span>) => <span class="js-variable">x</span> + <span class="js-variable">y</span>;
<span class="js-keyword">const</span> <span class="js-variable">multiply</span> = (<span class="js-param">x</span>, <span class="js-param">y</span>) => <span class="js-variable">x</span> * <span class="js-variable">y</span>;

<span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-function">applyOperation</span>(<span class="js-number">5</span>, <span class="js-number">3</span>, <span class="js-variable">add</span>));      <span class="js-comment">// 8</span>
<span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-function">applyOperation</span>(<span class="js-number">5</span>, <span class="js-number">3</span>, <span class="js-variable">multiply</span>)); <span class="js-comment">// 15</span>

<span class="js-comment">// Function returning function</span>
<span class="js-keyword">function</span> <span class="js-function">createLogger</span>(<span class="js-param">prefix</span>) {
  <span class="js-keyword">return</span> <span class="js-keyword">function</span>(<span class="js-param">message</span>) {
    <span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-string">`[<span class="js-number">${prefix}</span>] <span class="js-number">${message}</span>`</span>);
  };
}

<span class="js-keyword">const</span> <span class="js-variable">infoLogger</span> = <span class="js-function">createLogger</span>(<span class="js-string">"INFO"</span>);
<span class="js-keyword">const</span> <span class="js-variable">errorLogger</span> = <span class="js-function">createLogger</span>(<span class="js-string">"ERROR"</span>);
<span class="js-variable">infoLogger</span>(<span class="js-string">"System started"</span>);  <span class="js-comment">// [INFO] System started</span>
<span class="js-variable">errorLogger</span>(<span class="js-string">"Something went wrong"</span>); <span class="js-comment">// [ERROR] Something went wrong</span>

<span class="js-comment">// RECURSION: Function that calls itself</span>
<span class="js-keyword">function</span> <span class="js-function">factorial</span>(<span class="js-param">n</span>) {
  <span class="js-comment">// Base case (stopping condition)</span>
  <span class="js-keyword">if</span> (<span class="js-variable">n</span> <= <span class="js-number">1</span>) {
    <span class="js-keyword">return</span> <span class="js-number">1</span>;
  }
  <span class="js-comment">// Recursive case</span>
  <span class="js-keyword">return</span> <span class="js-variable">n</span> * <span class="js-function">factorial</span>(<span class="js-variable">n</span> - <span class="js-number">1</span>);
}

<span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-function">factorial</span>(<span class="js-number">5</span>)); <span class="js-comment">// 120 (5 * 4 * 3 * 2 * 1)</span>

<span class="js-comment">// Fibonacci sequence (recursive)</span>
<span class="js-keyword">function</span> <span class="js-function">fibonacci</span>(<span class="js-param">n</span>) {
  <span class="js-keyword">if</span> (<span class="js-variable">n</span> <= <span class="js-number">1</span>) {
    <span class="js-keyword">return</span> <span class="js-variable">n</span>;
  }
  <span class="js-keyword">return</span> <span class="js-function">fibonacci</span>(<span class="js-variable">n</span> - <span class="js-number">1</span>) + <span class="js-function">fibonacci</span>(<span class="js-variable">n</span> - <span class="js-number">2</span>);
}

<span class="js-comment">// Memoization: Optimizing recursive functions</span>
<span class="js-keyword">function</span> <span class="js-function">memoizedFibonacci</span>() {
  <span class="js-keyword">const</span> <span class="js-variable">cache</span> = {}; <span class="js-comment">// Store computed results</span>
  
  <span class="js-keyword">return</span> <span class="js-keyword">function</span> <span class="js-function">fib</span>(<span class="js-param">n</span>) {
    <span class="js-keyword">if</span> (<span class="js-variable">n</span> <span class="js-keyword">in</span> <span class="js-variable">cache</span>) {
      <span class="js-keyword">return</span> <span class="js-variable">cache</span>[<span class="js-variable">n</span>];
    }
    
    <span class="js-keyword">if</span> (<span class="js-variable">n</span> <= <span class="js-number">1</span>) {
      <span class="js-keyword">return</span> <span class="js-variable">n</span>;
    }
    
    <span class="js-variable">cache</span>[<span class="js-variable">n</span>] = <span class="js-function">fib</span>(<span class="js-variable">n</span> - <span class="js-number">1</span>) + <span class="js-function">fib</span>(<span class="js-variable">n</span> - <span class="js-number">2</span>);
    <span class="js-keyword">return</span> <span class="js-variable">cache</span>[<span class="js-variable">n</span>];
  };
}

<span class="js-keyword">const</span> <span class="js-variable">fib</span> = <span class="js-function">memoizedFibonacci</span>();
<span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-function">fib</span>(<span class="js-number">10</span>)); <span class="js-comment">// 55 (much faster with memoization)</span></code></pre>
                    </div>
                </div>
            </div>
            
            <div class="callstack-visual">
                <h4>Call Stack Visualization (Factorial Example)</h4>
                <div class="stack-container" id="callStack">
                    <!-- Call stack will be populated by JavaScript -->
                </div>
                <button class="btn" onclick="visualizeCallStack()" style="margin-top: 1rem; width: 100%;">
                    <i class="fas fa-play"></i> Visualize factorial(4) Call Stack
                </button>
            </div>
        </section>

        <!-- Practice Exercises -->
        <section class="section">
            <h2 class="section-title"><i class="fas fa-pencil-alt"></i> Practice Exercises</h2>
            <p>Test your understanding of JavaScript functions with these exercises:</p>
            
            <div class="content-grid">
                <div>
                    <h3>Exercise 1: Calculator Functions</h3>
                    <p>Create a calculator module with the following functions:</p>
                    <ol style="margin-left: 1.5rem; margin-top: 1rem;">
                        <li>Basic operations: add, subtract, multiply, divide</li>
                        <li>Power function using recursion</li>
                        <li>Factorial function using recursion</li>
                        <li>Calculate average of any number of arguments</li>
                        <li>Create a function that returns a function to calculate tax</li>
                    </ol>
                    
                    <a href="#" class="btn" onclick="showSolution1(); return false;"><i class="fas fa-lightbulb"></i> Show Solution</a>
                    
                    <div id="solution1" style="display: none; margin-top: 1.5rem;">
                        <div class="code-example">
                            <h4>Exercise 1 Solution</h4>
<pre><code><span class="js-comment">// Calculator Module</span>
<span class="js-keyword">const</span> <span class="js-variable">calculator</span> = {
  <span class="js-comment">// 1. Basic operations</span>
  <span class="js-variable">add</span>: (<span class="js-param">a</span>, <span class="js-param">b</span>) => <span class="js-variable">a</span> + <span class="js-variable">b</span>,
  <span class="js-variable">subtract</span>: (<span class="js-param">a</span>, <span class="js-param">b</span>) => <span class="js-variable">a</span> - <span class="js-variable">b</span>,
  <span class="js-variable">multiply</span>: (<span class="js-param">a</span>, <span class="js-param">b</span>) => <span class="js-variable">a</span> * <span class="js-variable">b</span>,
  <span class="js-variable">divide</span>: (<span class="js-param">a</span>, <span class="js-param">b</span>) => <span class="js-variable">b</span> !== <span class="js-number">0</span> ? <span class="js-variable">a</span> / <span class="js-variable">b</span> : <span class="js-string">"Error: Division by zero"</span>,
  
  <span class="js-comment">// 2. Power using recursion</span>
  <span class="js-variable">power</span>: <span class="js-keyword">function</span> <span class="js-function">power</span>(<span class="js-param">base</span>, <span class="js-param">exp</span>) {
    <span class="js-keyword">if</span> (<span class="js-variable">exp</span> === <span class="js-number">0</span>) <span class="js-keyword">return</span> <span class="js-number">1</span>;
    <span class="js-keyword">if</span> (<span class="js-variable">exp</span> === <span class="js-number">1</span>) <span class="js-keyword">return</span> <span class="js-variable">base</span>;
    <span class="js-keyword">return</span> <span class="js-variable">base</span> * <span class="js-function">power</span>(<span class="js-variable">base</span>, <span class="js-variable">exp</span> - <span class="js-number">1</span>);
  },
  
  <span class="js-comment">// 3. Factorial using recursion</span>
  <span class="js-variable">factorial</span>: <span class="js-keyword">function</span> <span class="js-function">factorial</span>(<span class="js-param">n</span>) {
    <span class="js-keyword">if</span> (<span class="js-variable">n</span> <= <span class="js-number">1</span>) <span class="js-keyword">return</span> <span class="js-number">1</span>;
    <span class="js-keyword">return</span> <span class="js-variable">n</span> * <span class="js-function">factorial</span>(<span class="js-variable">n</span> - <span class="js-number">1</span>);
  },
  
  <span class="js-comment">// 4. Average of any number of arguments</span>
  <span class="js-variable">average</span>: <span class="js-keyword">function</span>(...<span class="js-param">numbers</span>) {
    <span class="js-keyword">if</span> (<span class="js-variable">numbers</span>.<span class="js-variable">length</span> === <span class="js-number">0</span>) <span class="js-keyword">return</span> <span class="js-number">0</span>;
    <span class="js-keyword">const</span> <span class="js-variable">sum</span> = <span class="js-variable">numbers</span>.<span class="js-function">reduce</span>((<span class="js-variable">total</span>, <span class="js-variable">num</span>) => <span class="js-variable">total</span> + <span class="js-variable">num</span>, <span class="js-number">0</span>);
    <span class="js-keyword">return</span> <span class="js-variable">sum</span> / <span class="js-variable">numbers</span>.<span class="js-variable">length</span>;
  }
};

<span class="js-comment">// 5. Tax calculator factory function</span>
<span class="js-keyword">function</span> <span class="js-function">createTaxCalculator</span>(<span class="js-param">taxRate</span>) {
  <span class="js-keyword">return</span> <span class="js-keyword">function</span>(<span class="js-param">amount</span>) {
    <span class="js-keyword">return</span> <span class="js-variable">amount</span> * (<span class="js-variable">taxRate</span> / <span class="js-number">100</span>);
  };
}

<span class="js-comment">// Usage examples</span>
<span class="js-keyword">const</span> <span class="js-variable">vatCalculator</span> = <span class="js-function">createTaxCalculator</span>(<span class="js-number">20</span>); <span class="js-comment">// 20% VAT</span>
<span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-variable">calculator</span>.<span class="js-function">add</span>(<span class="js-number">5</span>, <span class="js-number">3</span>)); <span class="js-comment">// 8</span>
<span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-variable">calculator</span>.<span class="js-function">power</span>(<span class="js-number">2</span>, <span class="js-number">3</span>)); <span class="js-comment">// 8</span>
<span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-variable">calculator</span>.<span class="js-function">average</span>(<span class="js-number">1</span>, <span class="js-number">2</span>, <span class="js-number">3</span>, <span class="js-number">4</span>, <span class="js-number">5</span>)); <span class="js-comment">// 3</span>
<span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-variable">vatCalculator</span>(<span class="js-number">100</span>)); <span class="js-comment">// 20 (20% of 100)</span></code></pre>
                        </div>
                    </div>
                    
                    <h3 style="margin-top: 2rem;">Exercise 2: Data Transformation</h3>
                    <p>Create functions to transform data:</p>
                    <ol style="margin-left: 1.5rem; margin-top: 1rem;">
                        <li>Function to filter array by callback</li>
                        <li>Function to map array by callback</li>
                        <li>Function to reduce array by callback</li>
                        <li>Compose function (combine multiple functions)</li>
                        <li>Curry function (transform f(a,b,c) to f(a)(b)(c))</li>
                    </ol>
                    
                    <a href="#" class="btn" onclick="showSolution2(); return false;"><i class="fas fa-lightbulb"></i> Show Solution</a>
                    
                    <div id="solution2" style="display: none; margin-top: 1.5rem;">
                        <div class="code-example">
                            <h4>Exercise 2 Solution</h4>
<pre><code><span class="js-comment">// 1. Custom filter function</span>
<span class="js-keyword">function</span> <span class="js-function">myFilter</span>(<span class="js-param">array</span>, <span class="js-param">callback</span>) {
  <span class="js-keyword">const</span> <span class="js-variable">result</span> = [];
  <span class="js-keyword">for</span> (<span class="js-keyword">let</span> <span class="js-variable">i</span> = <span class="js-number">0</span>; <span class="js-variable">i</span> < <span class="js-variable">array</span>.<span class="js-variable">length</span>; <span class="js-variable">i</span><span class="js-operator">++</span>) {
    <span class="js-keyword">if</span> (<span class="js-function">callback</span>(<span class="js-variable">array</span>[<span class="js-variable">i</span>], <span class="js-variable">i</span>, <span class="js-variable">array</span>)) {
      <span class="js-variable">result</span>.<span class="js-function">push</span>(<span class="js-variable">array</span>[<span class="js-variable">i</span>]);
    }
  }
  <span class="js-keyword">return</span> <span class="js-variable">result</span>;
}

<span class="js-comment">// 2. Custom map function</span>
<span class="js-keyword">function</span> <span class="js-function">myMap</span>(<span class="js-param">array</span>, <span class="js-param">callback</span>) {
  <span class="js-keyword">const</span> <span class="js-variable">result</span> = [];
  <span class="js-keyword">for</span> (<span class="js-keyword">let</span> <span class="js-variable">i</span> = <span class="js-number">0</span>; <span class="js-variable">i</span> < <span class="js-variable">array</span>.<span class="js-variable">length</span>; <span class="js-variable">i</span><span class="js-operator">++</span>) {
    <span class="js-variable">result</span>.<span class="js-function">push</span>(<span class="js-function">callback</span>(<span class="js-variable">array</span>[<span class="js-variable">i</span>], <span class="js-variable">i</span>, <span class="js-variable">array</span>));
  }
  <span class="js-keyword">return</span> <span class="js-variable">result</span>;
}

<span class="js-comment">// 3. Custom reduce function</span>
<span class="js-keyword">function</span> <span class="js-function">myReduce</span>(<span class="js-param">array</span>, <span class="js-param">callback</span>, <span class="js-param">initialValue</span>) {
  <span class="js-keyword">let</span> <span class="js-variable">accumulator</span> = <span class="js-variable">initialValue</span>;
  <span class="js-keyword">let</span> <span class="js-variable">startIndex</span> = <span class="js-number">0</span>;
  
  <span class="js-keyword">if</span> (<span class="js-variable">initialValue</span> === <span class="js-keyword">undefined</span>) {
    <span class="js-keyword">if</span> (<span class="js-variable">array</span>.<span class="js-variable">length</span> === <span class="js-number">0</span>) {
      <span class="js-keyword">throw</span> <span class="js-keyword">new</span> <span class="js-function">TypeError</span>(<span class="js-string">"Reduce of empty array with no initial value"</span>);
    }
    <span class="js-variable">accumulator</span> = <span class="js-variable">array</span>[<span class="js-number">0</span>];
    <span class="js-variable">startIndex</span> = <span class="js-number">1</span>;
  }
  
  <span class="js-keyword">for</span> (<span class="js-keyword">let</span> <span class="js-variable">i</span> = <span class="js-variable">startIndex</span>; <span class="js-variable">i</span> < <span class="js-variable">array</span>.<span class="js-variable">length</span>; <span class="js-variable">i</span><span class="js-operator">++</span>) {
    <span class="js-variable">accumulator</span> = <span class="js-function">callback</span>(<span class="js-variable">accumulator</span>, <span class="js-variable">array</span>[<span class="js-variable">i</span>], <span class="js-variable">i</span>, <span class="js-variable">array</span>);
  }
  
  <span class="js-keyword">return</span> <span class="js-variable">accumulator</span>;
}

<span class="js-comment">// 4. Compose function (combine multiple functions)</span>
<span class="js-keyword">function</span> <span class="js-function">compose</span>(...<span class="js-param">functions</span>) {
  <span class="js-keyword">return</span> <span class="js-keyword">function</span>(<span class="js-param">input</span>) {
    <span class="js-keyword">return</span> <span class="js-variable">functions</span>.<span class="js-function">reduceRight</span>(
      (<span class="js-variable">value</span>, <span class="js-variable">func</span>) => <span class="js-function">func</span>(<span class="js-variable">value</span>),
      <span class="js-variable">input</span>
    );
  };
}

<span class="js-comment">// 5. Curry function</span>
<span class="js-keyword">function</span> <span class="js-function">curry</span>(<span class="js-param">fn</span>) {
  <span class="js-keyword">return</span> <span class="js-keyword">function</span> <span class="js-function">curried</span>(...<span class="js-param">args</span>) {
    <span class="js-keyword">if</span> (<span class="js-variable">args</span>.<span class="js-variable">length</span> >= <span class="js-variable">fn</span>.<span class="js-variable">length</span>) {
      <span class="js-keyword">return</span> <span class="js-function">fn</span>.<span class="js-function">apply</span>(<span class="js-keyword">this</span>, <span class="js-variable">args</span>);
    } <span class="js-keyword">else</span> {
      <span class="js-keyword">return</span> <span class="js-keyword">function</span>(...<span class="js-param">moreArgs</span>) {
        <span class="js-keyword">return</span> <span class="js-function">curried</span>.<span class="js-function">apply</span>(<span class="js-keyword">this</span>, <span class="js-variable">args</span>.<span class="js-function">concat</span>(<span class="js-variable">moreArgs</span>));
      };
    }
  };
}

<span class="js-comment">// Usage examples</span>
<span class="js-keyword">const</span> <span class="js-variable">numbers</span> = [<span class="js-number">1</span>, <span class="js-number">2</span>, <span class="js-number">3</span>, <span class="js-number">4</span>, <span class="js-number">5</span>];
<span class="js-keyword">const</span> <span class="js-variable">evens</span> = <span class="js-function">myFilter</span>(<span class="js-variable">numbers</span>, <span class="js-variable">n</span> => <span class="js-variable">n</span> % <span class="js-number">2</span> === <span class="js-number">0</span>);
<span class="js-keyword">const</span> <span class="js-variable">squares</span> = <span class="js-function">myMap</span>(<span class="js-variable">numbers</span>, <span class="js-variable">n</span> => <span class="js-variable">n</span> * <span class="js-variable">n</span>);
<span class="js-keyword">const</span> <span class="js-variable">sum</span> = <span class="js-function">myReduce</span>(<span class="js-variable">numbers</span>, (<span class="js-variable">a</span>, <span class="js-variable">b</span>) => <span class="js-variable">a</span> + <span class="js-variable">b</span>, <span class="js-number">0</span>);

<span class="js-comment">// Compose example</span>
<span class="js-keyword">const</span> <span class="js-variable">add5</span> = <span class="js-param">x</span> => <span class="js-variable">x</span> + <span class="js-number">5</span>;
<span class="js-keyword">const</span> <span class="js-variable">multiply3</span> = <span class="js-param">x</span> => <span class="js-variable">x</span> * <span class="js-number">3</span>;
<span class="js-keyword">const</span> <span class="js-variable">add5ThenMultiply3</span> = <span class="js-function">compose</span>(<span class="js-variable">multiply3</span>, <span class="js-variable">add5</span>);
<span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-function">add5ThenMultiply3</span>(<span class="js-number">10</span>)); <span class="js-comment">// 45 ((10 + 5) * 3)</span>

<span class="js-comment">// Curry example</span>
<span class="js-keyword">function</span> <span class="js-function">addThree</span>(<span class="js-param">a</span>, <span class="js-param">b</span>, <span class="js-param">c</span>) {
  <span class="js-keyword">return</span> <span class="js-variable">a</span> + <span class="js-variable">b</span> + <span class="js-variable">c</span>;
}
<span class="js-keyword">const</span> <span class="js-variable">curriedAdd</span> = <span class="js-function">curry</span>(<span class="js-function">addThree</span>);
<span class="js-function">console</span>.<span class="js-function">log</span>(<span class="js-function">curriedAdd</span>(<span class="js-number">1</span>)(<span class="js-number">2</span>)(<span class="js-number">3</span>)); <span class="js-comment">// 6</span></code></pre>
                        </div>
                    </div>
                </div>
                
                <div class="function-visualizer" style="background-color: var(--dark-color);">
                    <div class="visualizer-header">
                        <div class="visualizer-title">Exercise Playground</div>
                        <div class="visualizer-controls">
                            <button class="visualizer-btn" id="testExercise1"><i class="fas fa-vial"></i> Test Ex1</button>
                            <button class="visualizer-btn" id="testExercise2"><i class="fas fa-vial"></i> Test Ex2</button>
                        </div>
                    </div>
                    <div class="visualizer-container" id="exerciseOutput">
                        <div style="color: #8b949e;">// Exercise output will appear here</div>
                        <div style="color: #8b949e; margin-top: 10px;">Try testing the exercises:</div>
                        <div style="color: #a5d6ff; font-family: 'Consolas'; font-size: 0.85rem; margin-top: 5px;">
                            // For Exercise 1:<br>
                            calculator.add(10, 5)<br>
                            calculator.power(2, 4)<br>
                            calculator.average(10, 20, 30)<br>
                            vatCalculator(200)<br><br>
                            
                            // For Exercise 2:<br>
                            myFilter([1,2,3,4,5], n => n > 2)<br>
                            myMap([1,2,3], n => n * 2)<br>
                            add5ThenMultiply3(10)<br>
                            curriedAdd(1)(2)(3)
                        </div>
                    </div>
                    <div class="visualizer-input-area">
                        <input type="text" class="visualizer-input" id="exerciseInput" placeholder="Enter code to test exercises">
                        <button class="visualizer-run-btn" id="runExercise"><i class="fas fa-play"></i> Execute</button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
            <p><i class="fas fa-graduation-cap"></i> JavaScript Functions Tutorial</p>
            <p>Part of Developers Hub | Master web development concepts</p>
            <div class="quick-links">
                <a href="T+3.html" class="quick-link"><i class="fas fa-arrow-left"></i> Previous: JS Objects & Arrays</a>
                <a href="#" class="quick-link"><i class="fas fa-book"></i> JS Reference Guide</a>
                <a href="T+5.html" class="quick-link"><i class="fas fa-arrow-right"></i> Next: JS Operators & Expressions</a>
                <a href="#" class="quick-link"><i class="fas fa-download"></i> Download Cheatsheet</a>
            </div>
            <p style="margin-top: 1.5rem; font-size: 0.9rem; opacity: 0.8;">&copy; 2023 Developers Hub. All rights reserved.</p>
    </footer>

    <script>
        // Initialize function type cards
        function initFunctionCards() {
            const functions = [
                { 
                    name: "Function Declaration", 
                    description: "Traditional function definition, hoisted to top",
                    syntax: "function name(params) { ... }",
                    icon: "fas fa-file-alt",
                    hoisting: "Fully hoisted",
                    example: "function add(a, b) { return a + b; }"
                },
                { 
                    name: "Function Expression", 
                    description: "Function assigned to variable, not hoisted",
                    syntax: "const name = function(params) { ... }",
                    icon: "fas fa-equals",
                    hoisting: "Variable hoisted, function not",
                    example: "const add = function(a, b) { return a + b; }"
                },
                { 
                    name: "Arrow Function", 
                    description: "ES6+ concise syntax, lexical 'this' binding",
                    syntax: "const name = (params) => { ... }",
                    icon: "fas fa-arrow-right",
                    hoisting: "Not hoisted",
                    example: "const add = (a, b) => a + b;"
                },
                { 
                    name: "Method", 
                    description: "Function as object property",
                    syntax: "obj.method = function() { ... }",
                    icon: "fas fa-cube",
                    hoisting: "Depends on definition",
                    example: "calculator.add = (a, b) => a + b;"
                },
                { 
                    name: "Constructor", 
                    description: "Used with 'new' to create objects",
                    syntax: "function Name(params) { this.prop = value; }",
                    icon: "fas fa-industry",
                    hoisting: "Fully hoisted",
                    example: "function Person(name) { this.name = name; }"
                },
                { 
                    name: "IIFE", 
                    description: "Immediately Invoked Function Expression",
                    syntax: "(function() { ... })()",
                    icon: "fas fa-bolt",
                    hoisting: "N/A (runs immediately)",
                    example: "(function() { console.log('IIFE'); })();"
                }
            ];
            
            const container = document.getElementById('functionCards');
            functions.forEach(func => {
                const card = document.createElement('div');
                card.className = 'function-card';
                card.innerHTML = `
                    <div class="function-icon"><i class="${func.icon}"></i></div>
                    <h4>${func.name}</h4>
                    <p style="font-size: 0.9rem; margin-bottom: 0.5rem; color: #555;">${func.description}</p>
                    <div class="function-syntax">${func.syntax}</div>
                    <div style="display: flex; justify-content: space-between; margin-top: 0.5rem; font-size: 0.8rem;">
                        <span style="color: #777;">Hoisting: ${func.hoisting}</span>
                    </div>
                `;
                container.appendChild(card);
            });
        }
        
        // Function visualizer functionality
        const functionDisplay = document.getElementById('functionDisplay');
        const functionInput = document.getElementById('functionInput');
        const runFunctionBtn = document.getElementById('runFunction');
        const clearFunctionBtn = document.getElementById('clearFunction');
        const addExampleBtn = document.getElementById('addExample');
        
        // Initial function definitions for the playground
        let functionDefinitions = `
// Define a function
function greet(name) {
  return \`Hello, \${name}!\`;
}

// Arrow function
const add = (a, b) => a + b;

// Function with default parameter
function calculateArea(width, height = width) {
  return width * height;
}

// Higher-order function
function applyTwice(func, value) {
  return func(func(value));
}

// Test the functions
const message = greet("Alice");
const sum = add(5, 3);
const area = calculateArea(4, 5);
const doubleTwice = applyTwice(x => x * 2, 3);
`;
        
        // Update function display
        function updateFunctionDisplay() {
            functionDisplay.innerHTML = formatCode(functionDefinitions);
        }
        
        // Format code with syntax highlighting
        function formatCode(code) {
            return code
                .replace(/\/\/.*$/gm, '<span class="js-comment">$&</span>')
                .replace(/\b(function|return|if|else|for|let|const|var)\b/g, '<span class="js-keyword">$1</span>')
                .replace(/\b(greet|add|calculateArea|applyTwice)\b/g, '<span class="js-function">$1</span>')
                .replace(/(\d+)/g, '<span class="js-number">$1</span>')
                .replace(/("[^"]*"|'[^']*'|`[^`]*`)/g, '<span class="js-string">$1</span>')
                .replace(/(\w+)\s*\(/g, function(match, funcName) {
                    if (['console', 'log'].includes(funcName)) {
                        return `<span class="js-function">${funcName}</span>(`;
                    }
                    return match;
                });
        }
        
        // Execute code in function playground
        function executeFunctionCode(code) {
            try {
                // First, define the functions
                eval(functionDefinitions);
                
                // Then execute the user's code
                const result = eval(code);
                return `Result: ${JSON.stringify(result)}`;
            } catch (error) {
                return `Error: ${error.message}`;
            }
        }
        
        // Run function code
        runFunctionBtn.addEventListener('click', () => {
            const code = functionInput.value.trim();
            if (code) {
                const result = executeFunctionCode(code);
                addToExerciseOutput(`> ${code}\n${result}`, true);
                functionInput.value = '';
            }
        });
        
        // Clear function playground
        clearFunctionBtn.addEventListener('click', () => {
            functionDefinitions = `// Define your functions here
function example() {
  return "Hello, World!";
}

// Try calling: example()`;
            updateFunctionDisplay();
            addToExerciseOutput('Function playground cleared', false);
        });
        
        // Add example function
        addExampleBtn.addEventListener('click', () => {
            const examples = [
                'function multiply(a, b) { return a * b; }',
                'const square = x => x * x;',
                'function factorial(n) { return n <= 1 ? 1 : n * factorial(n-1); }',
                'const isEven = num => num % 2 === 0;',
                'function createGreeter(greeting) { return name => `${greeting}, ${name}!`; }'
            ];
            
            const randomExample = examples[Math.floor(Math.random() * examples.length)];
            functionDefinitions += '\n' + randomExample;
            updateFunctionDisplay();
            addToExerciseOutput(`Added: ${randomExample}`, false);
        });
        
        // Exercise functionality
        const exerciseOutput = document.getElementById('exerciseOutput');
        const exerciseInput = document.getElementById('exerciseInput');
        const runExerciseBtn = document.getElementById('runExercise');
        const testExercise1Btn = document.getElementById('testExercise1');
        const testExercise2Btn = document.getElementById('testExercise2');
        
        // Add output to exercise area
        function addToExerciseOutput(text, isCode = false) {
            const line = document.createElement('div');
            line.style.marginBottom = '5px';
            line.style.padding = '5px';
            line.style.borderRadius = '3px';
            line.style.backgroundColor = isCode ? 'rgba(255,255,255,0.05)' : 'transparent';
            line.style.color = isCode ? '#d6deeb' : '#7ee787';
            line.style.fontFamily = "'Consolas', monospace";
            line.style.fontSize = '0.9rem';
            line.style.whiteSpace = 'pre-wrap';
            line.textContent = text;
            
            exerciseOutput.appendChild(line);
            exerciseOutput.scrollTop = exerciseOutput.scrollHeight;
        }
        
        // Clear exercise output
        function clearExerciseOutput() {
            exerciseOutput.innerHTML = '<div style="color: #8b949e;">// Exercise output will appear here</div>';
        }
        
        // Test Exercise 1
        testExercise1Btn.addEventListener('click', () => {
            clearExerciseOutput();
            
            // Define Exercise 1 functions
            const exercise1Code = getExercise1Code() + `
                // Test the functions
                let results = [];
                results.push("5 + 3 = " + calculator.add(5, 3));
                results.push("2^3 = " + calculator.power(2, 3));
                results.push("5! = " + calculator.factorial(5));
                results.push("Average of 10, 20, 30 = " + calculator.average(10, 20, 30));
                
                const vatCalculator = createTaxCalculator(20); // 20% VAT
                results.push("20% VAT on 100 = " + vatCalculator(100));
                
                results.join('\\n');
            `;
            
            try {
                const result = eval(exercise1Code);
                addToExerciseOutput(`> Testing Exercise 1\n${result}`, true);
            } catch (error) {
                addToExerciseOutput(`> Testing Exercise 1\nError: ${error.message}`, true);
            }
        });
        
        // Test Exercise 2
        testExercise2Btn.addEventListener('click', () => {
            clearExerciseOutput();
            
            // Define Exercise 2 functions
            const exercise2Code = getExercise2Code() + `
                // Test the functions
                let results = [];
                
                const numbers = [1, 2, 3, 4, 5];
                results.push("Original: " + JSON.stringify(numbers));
                results.push("Filter > 2: " + JSON.stringify(myFilter(numbers, n => n > 2)));
                results.push("Map to squares: " + JSON.stringify(myMap(numbers, n => n * n)));
                results.push("Sum: " + myReduce(numbers, (a, b) => a + b, 0));
                
                // Compose example
                const add5 = x => x + 5;
                const multiply3 = x => x * 3;
                const add5ThenMultiply3 = compose(multiply3, add5);
                results.push("compose(multiply3, add5)(10) = " + add5ThenMultiply3(10));
                
                // Curry example
                function addThree(a, b, c) {
                  return a + b + c;
                }
                const curriedAdd = curry(addThree);
                results.push("curriedAdd(1)(2)(3) = " + curriedAdd(1)(2)(3));
                
                results.join('\\n');
            `;
            
            try {
                const result = eval(exercise2Code);
                addToExerciseOutput(`> Testing Exercise 2\n${result}`, true);
            } catch (error) {
                addToExerciseOutput(`> Testing Exercise 2\nError: ${error.message}`, true);
            }
        });
        
        // Run custom exercise code
        runExerciseBtn.addEventListener('click', () => {
            const code = exerciseInput.value.trim();
            if (code) {
                try {
                    // First, define both exercise functions
                    eval(getExercise1Code());
                    eval(getExercise2Code());
                    
                    // Then execute the user's code
                    const result = eval(code);
                    addToExerciseOutput(`> ${code}\n${JSON.stringify(result)}`, true);
                } catch (error) {
                    addToExerciseOutput(`> ${code}\nError: ${error.message}`, true);
                }
                exerciseInput.value = '';
            }
        });
        
        // Helper function to get Exercise 1 code
        function getExercise1Code() {
            return `
                // Calculator Module (Exercise 1)
                const calculator = {
                  add: (a, b) => a + b,
                  subtract: (a, b) => a - b,
                  multiply: (a, b) => a * b,
                  divide: (a, b) => b !== 0 ? a / b : "Error: Division by zero",
                  
                  power: function power(base, exp) {
                    if (exp === 0) return 1;
                    if (exp === 1) return base;
                    return base * power(base, exp - 1);
                  },
                  
                  factorial: function factorial(n) {
                    if (n <= 1) return 1;
                    return n * factorial(n - 1);
                  },
                  
                  average: function(...numbers) {
                    if (numbers.length === 0) return 0;
                    const sum = numbers.reduce((total, num) => total + num, 0);
                    return sum / numbers.length;
                  }
                };
                
                // Tax calculator factory function
                function createTaxCalculator(taxRate) {
                  return function(amount) {
                    return amount * (taxRate / 100);
                  };
                }
            `;
        }
        
        // Helper function to get Exercise 2 code
        function getExercise2Code() {
            return `
                // Custom filter function
                function myFilter(array, callback) {
                  const result = [];
                  for (let i = 0; i < array.length; i++) {
                    if (callback(array[i], i, array)) {
                      result.push(array[i]);
                    }
                  }
                  return result;
                }
                
                // Custom map function
                function myMap(array, callback) {
                  const result = [];
                  for (let i = 0; i < array.length; i++) {
                    result.push(callback(array[i], i, array));
                  }
                  return result;
                }
                
                // Custom reduce function
                function myReduce(array, callback, initialValue) {
                  let accumulator = initialValue;
                  let startIndex = 0;
                  
                  if (initialValue === undefined) {
                    if (array.length === 0) {
                      throw new TypeError("Reduce of empty array with no initial value");
                    }
                    accumulator = array[0];
                    startIndex = 1;
                  }
                  
                  for (let i = startIndex; i < array.length; i++) {
                    accumulator = callback(accumulator, array[i], i, array);
                  }
                  
                  return accumulator;
                }
                
                // Compose function
                function compose(...functions) {
                  return function(input) {
                    return functions.reduceRight(
                      (value, func) => func(value),
                      input
                    );
                  };
                }
                
                // Curry function
                function curry(fn) {
                  return function curried(...args) {
                    if (args.length >= fn.length) {
                      return fn.apply(this, args);
                    } else {
                      return function(...moreArgs) {
                        return curried.apply(this, args.concat(moreArgs));
                      };
                    }
                  };
                }
            `;
        }
        
        // Call stack visualization
        function visualizeCallStack() {
            const stackContainer = document.getElementById('callStack');
            stackContainer.innerHTML = '';
            
            // Create stack frames for factorial(4)
            const frames = [
                'main()',
                'factorial(4)',
                'factorial(3)',
                'factorial(2)',
                'factorial(1)'
            ];
            
            // Animate adding frames
            let delay = 0;
            frames.forEach((frame, index) => {
                setTimeout(() => {
                    const frameElement = document.createElement('div');
                    frameElement.className = 'stack-frame';
                    if (index === frames.length - 1) {
                        frameElement.classList.add('active');
                    }
                    frameElement.textContent = frame;
                    stackContainer.appendChild(frameElement);
                    
                    // Scroll to show new frame
                    stackContainer.scrollTop = stackContainer.scrollHeight;
                }, delay);
                delay += 800; // 0.8 second delay between frames
            });
            
            // Animate returning from factorial
            setTimeout(() => {
                const frames = stackContainer.querySelectorAll('.stack-frame');
                // Start from the last frame and remove them
                for (let i = frames.length - 1; i >= 1; i--) { // Keep main()
                    setTimeout(() => {
                        if (frames[i]) {
                            frames[i].classList.add('active');
                            if (i > 0) frames[i-1].classList.add('active');
                        }
                    }, (frames.length - i) * 500);
                    
                    setTimeout(() => {
                        if (frames[i] && i > 0) { // Don't remove main()
                            frames[i].remove();
                        }
                    }, (frames.length - i) * 500 + 300);
                }
            }, delay + 500);
        }
        
        // Show/hide solutions
        function showSolution1() {
            const solutionDiv = document.getElementById('solution1');
            if (solutionDiv.style.display === 'none' || solutionDiv.style.display === '') {
                solutionDiv.style.display = 'block';
            } else {
                solutionDiv.style.display = 'none';
            }
        }
        
        function showSolution2() {
            const solutionDiv = document.getElementById('solution2');
            if (solutionDiv.style.display === 'none' || solutionDiv.style.display === '') {
                solutionDiv.style.display = 'block';
            } else {
                solutionDiv.style.display = 'none';
            }
        }
        
        // Copy code functionality
        function copyCode(button) {
            const codeElement = button.parentElement.querySelector('pre');
            const codeText = codeElement.textContent;
            
            navigator.clipboard.writeText(codeText).then(() => {
                const originalText = button.textContent;
                button.textContent = 'Copied!';
                button.style.backgroundColor = 'var(--success-color)';
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.style.backgroundColor = '';
                }, 2000);
            });
        }
        
        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            initFunctionCards();
            updateFunctionDisplay();
            
            // Set initial examples
            functionInput.value = 'greet("Developer")';
            exerciseInput.value = 'calculator.add(10, 5)';
            
            // Allow Enter key in inputs
            functionInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') runFunctionBtn.click();
            });
            
            exerciseInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') runExerciseBtn.click();
            });
        });
    </script>
    <!-- inserted -->
    <script>
        // DOM Elements
        const sidebar = document.getElementById('sidebar');
        const menuToggle = document.getElementById('menuToggle');
        const navItems = document.querySelectorAll('.menu-item');
        const submenuItems = document.querySelectorAll('.submenu-item');
        const contentPages = document.querySelectorAll('.content-page');
        const contentContainers = document.querySelectorAll('.content-container');
        const exerciseContainers = document.querySelectorAll('.exercise-container');
        const hasSubmenuItems = document.querySelectorAll('.has-submenu');
        
        // Code Editor Elements
        const codeEditor = document.getElementById('codeEditor');
        const outputFrame = document.getElementById('outputFrame');
        const runEditorBtn = document.getElementById('runEditorBtn');
        const saveBtn = document.getElementById('saveBtn');
        const clearBtn = document.getElementById('clearBtn');
        const languageSelect = document.getElementById('languageSelect');
        const fileNameInput = document.getElementById('fileName');
        
        // Toggle Sidebar on Mobile
        menuToggle.addEventListener('click', () => {
            sidebar.classList.toggle('active');
        });
        
        // Handle Navigation
        navItems.forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Check if item has submenu
                if (this.classList.contains('has-submenu')) {
                    const submenu = this.nextElementSibling;
                    const chevron = this.querySelector('.chevron');
                    
                    submenu.classList.toggle('active');
                    chevron.classList.toggle('rotate');
                    return;
                }
                
                // Get page to show
                const pageId = this.getAttribute('data-page');
                if (!pageId) return;
                
                // Update active states
                navItems.forEach(nav => nav.classList.remove('active'));
                this.classList.add('active');
                
                // Show selected page
                contentPages.forEach(page => page.classList.remove('active'));
                document.getElementById(pageId).classList.add('active');
                
                // Close sidebar on mobile after selection
                if (window.innerWidth <= 992) {
                    sidebar.classList.remove('active');
                }
                
                // Handle submenu content display
                if (pageId === 'tutorials' || pageId === 'references') {
                    // Show first content container by default
                    contentContainers.forEach(container => container.classList.remove('active'));
                    const firstContainer = document.querySelector(`#${pageId} .content-container`);
                    if (firstContainer) firstContainer.classList.add('active');
                    
                    // Activate first submenu item
                    const submenu = document.getElementById(`${pageId}-submenu`);
                    if (submenu) {
                        submenuItems.forEach(item => item.classList.remove('active'));
                        const firstSubmenuItem = submenu.querySelector('.submenu-item');
                        if (firstSubmenuItem) firstSubmenuItem.classList.add('active');
                    }
                } else if (pageId === 'exercises') {
                    // Show first exercise container by default
                    exerciseContainers.forEach(container => container.classList.remove('active'));
                    const firstExerciseContainer = document.querySelector('#exercises .exercise-container');
                    if (firstExerciseContainer) firstExerciseContainer.classList.add('active');
                    
                    // Activate first submenu item
                    const submenu = document.getElementById(`${pageId}-submenu`);
                    if (submenu) {
                        submenuItems.forEach(item => item.classList.remove('active'));
                        const firstSubmenuItem = submenu.querySelector('.submenu-item');
                        if (firstSubmenuItem) firstSubmenuItem.classList.add('active');
                    }
                }
            });
        });
        
        // Handle Submenu Item Click
        submenuItems.forEach(item => {
            item.addEventListener('click', function() {
                // Update active states
                const parentSubmenu = this.parentElement;
                parentSubmenu.querySelectorAll('.submenu-item').forEach(i => {
                    i.classList.remove('active');
                });
                this.classList.add('active');
                
                // Get content to show
                const contentId = this.getAttribute('data-content');
                
                // Show corresponding content
                if (contentId.includes('tutorial') || contentId.includes('reference')) {
                    contentContainers.forEach(container => container.classList.remove('active'));
                    document.getElementById(contentId).classList.add('active');
                } else if (contentId.includes('exercises')) {
                    exerciseContainers.forEach(container => container.classList.remove('active'));
                    document.getElementById(contentId).classList.add('active');
                }
                
                // Close sidebar on mobile after selection
                if (window.innerWidth <= 992) {
                    sidebar.classList.remove('active');
                }
            });
        });
        
        // Code Editor Functionality
        runEditorBtn.addEventListener('click', runEditorCode);
        saveBtn.addEventListener('click', saveEditorCode);
        clearBtn.addEventListener('click', clearEditorCode);
        
        function runEditorCode() {
            const code = codeEditor.value;
            
            // Create a complete HTML document with the code
            const htmlDoc = `
                <!DOCTYPE html>
                <html>
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <title>Code Output</title>
                    <style>
                        body { 
                            font-family: Arial, sans-serif; 
                            padding: 20px; 
                            margin: 0;
                            background-color: #f5f5f5;
                        }
                        * {
                            box-sizing: border-box;
                        }
                    </style>
                </head>
                <body>
                    ${code}
                </body>
                </html>
            `;
            
            // Write the HTML to the iframe
            const iframeDoc = outputFrame.contentDocument || outputFrame.contentWindow.document;
            iframeDoc.open();
            iframeDoc.write(htmlDoc);
            iframeDoc.close();
        }
        
        function saveEditorCode() {
            const code = codeEditor.value;
            const fileName = fileNameInput.value || 'code.html';
            const language = languageSelect.value;
            
            const blob = new Blob([code], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = url;
            a.download = fileName;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            
            URL.revokeObjectURL(url);
            
            showNotification('Code saved successfully!');
        }
        
        function clearEditorCode() {
            if (confirm('Are you sure you want to clear the editor?')) {
                codeEditor.value = '';
                const iframeDoc = outputFrame.contentDocument || outputFrame.contentWindow.document;
                iframeDoc.open();
                iframeDoc.write('');
                iframeDoc.close();
                
                showNotification('Editor cleared!');
            }
        }
        
        // Exercise Functions
        function runExercise(textareaId) {
            const code = document.getElementById(textareaId).value;
            const tempWindow = window.open();
            tempWindow.document.write(code);
            tempWindow.document.close();
        }
        
        function checkExercise(textareaId, language, exerciseNum) {
            const code = document.getElementById(textareaId).value;
            const resultBox = document.getElementById(`result-${language}-${exerciseNum}`);
            
            // Define correct answers for exercises
            const solutions = {
                'html': {
                    1: /<h1>.*Welcome to DevHub.*<\/h1>/i,
                    2: /<p>.*This is my first HTML exercise.*<\/p>/i,
                    3: /<a.*href=.*https:\/\/www\.devhub\.com.*>.*Visit DevHub.*<\/a>/i
                },
                'css': {
                    1: /color:\s*red/i,
                    2: /background-color:\s*lightblue/i
                },
                'javascript': {
                    1: /(let|var|const)\s+message\s*=\s*["']Hello, JavaScript!["']/i,
                    2: /function\s+greet\s*\(\s*\)\s*\{[\s\S]*return\s+["']Hello, World!["'][\s\S]*\}/i
                }
            };
            
            // Check if code matches solution
            const solution = solutions[language]?.[exerciseNum];
            if (solution && solution.test(code)) {
                resultBox.className = 'result-box success';
                resultBox.innerHTML = '<i class="fas fa-check-circle"></i> Correct! Well done!';
                
                // Update progress
                updateExerciseProgress(language, exerciseNum);
            } else {
                resultBox.className = 'result-box error';
                resultBox.innerHTML = '<i class="fas fa-times-circle"></i> Incorrect. Try again!';
            }
            
            // Scroll to result
            resultBox.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }
        
        function showSolution(language, exerciseNum) {
            const solutions = {
                'html': {
                    1: '<h1>Welcome to DevHub</h1>',
                    2: '<p>This is my first HTML exercise.</p>',
                    3: '<a href="https://www.devhub.com">Visit DevHub</a>'
                },
                'css': {
                    1: 'color: red;',
                    2: 'background-color: lightblue;'
                },
                'javascript': {
                    1: 'let message = "Hello, JavaScript!";',
                    2: 'function greet() {\n    return "Hello, World!";\n}'
                }
            };
            
            const solution = solutions[language]?.[exerciseNum];
            if (solution) {
                alert(`Solution for ${language.toUpperCase()} Exercise ${exerciseNum}:\n\n${solution}`);
            }
        }
        
        function updateExerciseProgress(language, exerciseNum) {
            // In a real app, you would save this to localStorage or a backend
            console.log(`Exercise ${exerciseNum} completed for ${language}`);
        }
        
        // Notification function
        function showNotification(message) {
            // Create notification element
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(to right, var(--primary), var(--secondary));
                color: var(--dark-header);
                padding: 15px 25px;
                border-radius: 8px;
                box-shadow: var(--shadow);
                z-index: 10000;
                animation: slideInRight 0.3s, fadeOut 0.3s 2.7s;
                font-weight: 500;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            // Remove notification after 3 seconds
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }
        
        // Logout functionality
        document.querySelector('.logout-btn').addEventListener('click', () => {
            if (confirm('Are you sure you want to logout?')) {
                showNotification('Logged out successfully!');
                // In a real app, you would redirect to login page
                // window.location.href = 'index.html';
            }
        });
        
        // Initialize the page
        document.addEventListener('DOMContentLoaded', () => {
            // Run code editor on load
            setTimeout(runEditorCode, 500);
            
            // Close sidebar when clicking outside on mobile
            document.addEventListener('click', (event) => {
                if (window.innerWidth <= 992 && 
                    !sidebar.contains(event.target) && 
                    !menuToggle.contains(event.target) &&
                    sidebar.classList.contains('active')) {
                    sidebar.classList.remove('active');
                }
            });
            
            // Syntax highlighting for code editor
            codeEditor.addEventListener('input', function() {
                // Basic syntax highlighting would be implemented here
                // In a real app, you would use a library like Prism.js or Highlight.js
            });
        });
        
        // Handle window resize
        window.addEventListener('resize', () => {
            if (window.innerWidth > 992) {
                sidebar.classList.remove('active');
            }
        });
    </script>
    <!-- /inserted -->
</body>
</html>